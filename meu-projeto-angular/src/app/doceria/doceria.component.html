<div class="container">
  <!-- Botão Mobile Menu -->
  <button class="menu-toggle" (click)="toggleSidebar()" *ngIf="isMobile">
    <i class="fas" [class.fa-bars]="!sidebarActive" [class.fa-times]="sidebarActive"></i>
  </button>

  <!-- Sidebar -->
  <aside id="sidebar" [class.active]="sidebarActive">
    <div class="sidebar-container">
      <img class="logo-doceria" src="assets/images/logo.jpg" alt="Logo Doceria">
      <h1>Doceria Delícia</h1>
      <nav>
        <ul>
          <li><a (click)="scrollTo('sessao-bemvindo')"><i class="fas fa-home"></i> Bem vindo</a></li>
          <li><a (click)="scrollTo('sessao-sobre')"><i class="fas fa-info-circle"></i> Sobre nós</a></li>
          <li *ngFor="let sweet of sweets">
            <a (click)="scrollTo('sessao-' + sweet.category.toLowerCase().replace(' ', ''))">
              <i class="fas" [class.fa-cookie]="sweet.category === 'Doces Finos'"
                          [class.fa-birthday-cake]="sweet.category === 'Bolos Artesanais'"
                          [class.fa-ice-cream]="sweet.category === 'Sobremesas Especiais'"></i>
              {{ sweet.category }}
            </a>
          </li>
          <li><a (click)="scrollTo('sessao-contato')"><i class="fas fa-envelope"></i> Contato</a></li>
        </ul>
      </nav>
    </div>
  </aside>

  <!-- Conteúdo Principal -->
  <main class="content">
    <!-- Seção Bem-vindo -->
    <section id="sessao-bemvindo" class="animate">
      <div class="banner"></div>
      <div class="sessao-bemvindo-content">
        <div class="sessao-minibanner animate"></div>
        <div class="sessao-descricao animate">
          <h1>Seja bem vindo à Doceria Delícia</h1>
          <p>
            Há mais de 15 anos encantando paladares com nossos doces artesanais feitos com ingredientes selecionados e muito amor.
          </p>
          <p>
            Nossas receitas exclusivas são preparadas diariamente por nossa equipe de confeiteiros talentosos.
          </p>
          <a (click)="scrollTo('sessao-sobre')" class="btn sessao-bemvindo-btn animate">Conheça mais</a>
        </div>
      </div>
    </section>

    <!-- Seção Sobre -->
    <section id="sessao-sobre" class="animate">
      <div class="sessao-content">
        <h1>Sobre nós</h1>
        <div class="sessao-minibanner animate"></div>
        <div class="sessao-descricao animate">
          <p>
            Fundada em 2008 por Maria das Dores, a Doceria Delícia nasceu do sonho de trazer doces sofisticados com um toque caseiro.
          </p>
          <p>
            Nossa filosofia é simples: usar apenas ingredientes naturais, de origem conhecida e sem conservantes.
          </p>
        </div>
      </div>
    </section>

    <!-- Seções de Doces -->
    <section *ngFor="let sweet of sweets" [id]="'sessao-' + sweet.category.toLowerCase().replace(' ', '')" class="animate">
      <h2>{{ sweet.category }}</h2>
      <p class="animate">{{ sweet.description }}</p>
      <div class="gallery">
        <div class="banner-galeria animate" *ngFor="let item of sweet.items"
             [style.background-image]="'url(' + item.image + ')'"
             [attr.aria-label]="item.name">
          <div class="sweet-info">
            <h3>{{ item.name }}</h3>
          </div>
        </div>
      </div>
    </section>

    <!-- Seção Contato -->
    <section id="sessao-contato" class="animate">
      <h2>Entre em contato</h2>
      <p class="animate">Faça sua encomenda ou tire suas dúvidas</p>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="animate">
        <div class="form-group">
          <input type="text" formControlName="name" placeholder="Seu nome" required>
          <div *ngIf="contactForm.get('name')?.invalid && contactForm.get('name')?.touched" class="error-message">
            Nome inválido (mínimo 3 caracteres)
          </div>
        </div>
        <div class="form-group">
          <input type="email" formControlName="email" placeholder="Seu e-mail" required>
          <div *ngIf="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" class="error-message">
            E-mail inválido
          </div>
        </div>
        <div class="form-group">
          <textarea formControlName="message" placeholder="Sua mensagem..." required></textarea>
          <div *ngIf="contactForm.get('message')?.invalid && contactForm.get('message')?.touched" class="error-message">
            Mensagem muito curta (mínimo 10 caracteres)
          </div>
        </div>
        <button type="submit" class="btn" [disabled]="contactForm.invalid">Enviar Mensagem</button>
      </form>
    </section>

    <!-- Footer -->
    <footer class="animate">
      <div class="social-links">
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      </div>
      <p>Doceria Delícia &copy; {{ currentYear }} - Todos os direitos reservados</p>
      <p>Desenvolvido com <i class="fas fa-heart"></i> por Confeiteiros Digitais</p>
    </footer>
  </main>
</div>
